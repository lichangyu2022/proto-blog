(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{495:function(r,a,t){"use strict";t.r(a);var i=t(31),s=Object(i.a)({},(function(){var r=this,a=r.$createElement,t=r._self._c||a;return t("ContentSlotsDistributor",{attrs:{"slot-key":r.$parent.slotKey}},[t("h1",{attrs:{id:"spring源码编译"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#spring源码编译"}},[r._v("#")]),r._v(" Spring源码编译")]),r._v(" "),t("h2",{attrs:{id:"_1-准备资料"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-准备资料"}},[r._v("#")]),r._v(" 1.准备资料")]),r._v(" "),t("ol",[t("li",[r._v("spring源码地址"),t("br"),r._v(" "),t("a",{attrs:{href:"https://gitee.com/archguide/spring-framework-5.3.10.git",target:"_blank",rel:"noopener noreferrer"}},[r._v("https://gitee.com/archguide/spring-framework-5.3.10.git"),t("OutboundLink")],1)]),r._v(" "),t("li",[r._v("gradle依赖")])]),r._v(" "),t("div",{staticClass:"language-aidl line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[r._v("链接：https://pan.baidu.com/s/1LgraeIhhIOgks5z_dhQUTg \n提取码：rntc \n--来自百度网盘超级会员V5的分享\n")])]),r._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[r._v("1")]),t("br"),t("span",{staticClass:"line-number"},[r._v("2")]),t("br"),t("span",{staticClass:"line-number"},[r._v("3")]),t("br")])]),t("ol",{attrs:{start:"3"}},[t("li",[r._v("jdk(小版本会有编译差异,jdk-8u301-windows-x64)")])]),r._v(" "),t("h2",{attrs:{id:"_2-下载spring源码"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-下载spring源码"}},[r._v("#")]),r._v(" 2.下载spring源码")]),r._v(" "),t("ol",[t("li",[r._v("建议直接⽤IDEA的git来下载源码：")])]),r._v(" "),t("p",[t("img",{attrs:{src:"/image/spring/idea%E4%B8%ADgit.png",alt:""}})]),r._v(" "),t("p",[t("img",{attrs:{src:"/image/spring/git%E9%85%8D%E7%BD%AEspring%E6%BA%90%E7%A0%81%E5%9C%B0%E5%9D%80.png.png",alt:""}})]),r._v(" "),t("ol",{attrs:{start:"2"}},[t("li",[r._v("下载完成后，IDEA就会⾃动下载gradle，下载完gradle就会开始下载Spring源码依赖，但是我们已经\n有现成的了，所以可以直接取消这个过程。")])]),r._v(" "),t("p",[t("img",{attrs:{src:"/image/spring/%E6%9A%82%E5%81%9C%E8%87%AA%E5%8A%A8%E4%B8%8B%E8%BD%BD.png",alt:""}})]),r._v(" "),t("ol",{attrs:{start:"3"}},[t("li",[t("p",[r._v("修改IDEA的gradle配置")]),r._v(" "),t("p",[t("img",{attrs:{src:"/image/spring/git%E9%85%8D%E7%BD%AEspring%E6%BA%90%E7%A0%81%E5%9C%B0%E5%9D%80.png",alt:""}})])])]),r._v(" "),t("p",[r._v("如果apply后会自动下载记得暂停")]),r._v(" "),t("ol",{attrs:{start:"4"}},[t("li",[r._v("运行代码\n编译成功后，在左侧可以看到如下模块，其中有⼀个tuling模块，可以直接运\n⾏，在它下⾯有⼀个Test类，直接运⾏main⽅法")])]),r._v(" "),t("h2",{attrs:{id:"_3-问题"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-问题"}},[r._v("#")]),r._v(" 3.问题")]),r._v(" "),t("ol",[t("li",[r._v("Kotlin: warnings found and -Weeror specified\n"),t("code",[r._v("右侧Gradle中找到spring-core模块的tasks/other下找到：cglibRepackJar 和 objenesisRepackJar把双击加载即可")])]),r._v(" "),t("li",[r._v("java：程序包org.springframework.cglib.core.internal不存在\n"),t("code",[r._v("右侧Gradle中找到spring-core模块的tasks/build下点击build")])]),r._v(" "),t("li",[r._v("java.nio.file.InvalidPathException: Illegal char <<> at index 56: C:/Program Files/JetBrains/IntelliJ IDEA 2021.3/jbr/bin/<no_path>/lib/kotlinx-serialization-compiler-plugin.jar")])]),r._v(" "),t("div",{staticClass:"language-aidl line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[r._v("可能是gradle包有问题，最好删掉重新下载一下。\n将idea编辑器删掉并清楚缓存，重新安装，将.java .gradle .kt .kts 都勾选上重开一把(亲测有效)\n")])]),r._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[r._v("1")]),t("br"),t("span",{staticClass:"line-number"},[r._v("2")]),t("br")])]),t("ol",{attrs:{start:"4"}},[t("li",[t("p",[r._v("如果出现了")]),r._v(" "),t("p",[t("img",{attrs:{src:"/image/spring/spring%E6%BA%90%E7%A0%81%E7%BC%96%E8%AF%91kotlin%E9%97%AE%E9%A2%98.png",alt:""}})]),r._v(" "),t("p",[r._v("报错的CoroutinesUtils是⼀个kotlin中的类，解决办法：\n点击File -> Project Structure -> Libraries -> “+” -> Java，然后选择spring-framework/spring-core/kotlin-coroutines/build/libs/kotlin-coroutines-5.2.4.BUILD-SNAPSHOT.jar，在弹出的对话\n框中选择spring-core.main，在重新运⾏Test类中的main⽅法即可，注意我图中是报错的模块spring-core，所以操作的是spring-core.main，如果是其他模块报类似的错，就做类似的操作。")])])])])}),[],!1,null,null,null);a.default=s.exports}}]);