(window.webpackJsonp=window.webpackJsonp||[]).push([[33],{515:function(a,e,s){"use strict";s.r(e);var n=s(31),t=Object(n.a)({},(function(){var a=this,e=a.$createElement,s=a._self._c||e;return s("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[s("h2",{attrs:{id:"新的-cmake-data-软件包-pre-installation-脚本-子进程返回错误状态-255"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#新的-cmake-data-软件包-pre-installation-脚本-子进程返回错误状态-255"}},[a._v("#")]),a._v(" 新的 cmake-data 软件包 pre-installation 脚本 子进程返回错误状态 255")]),a._v(" "),s("p",[a._v("在apt-get install cmake 的是时候出现说依赖cmake-data，但cmake-data不会安装，安装cmake-data时出现的状态，")]),a._v(" "),s("p",[s("code",[a._v("sudo apt --fix-broken install")])]),a._v(" "),s("p",[a._v("会遇到一下情况")]),a._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("emacs-remove: can't set umask, aborting. at /usr/lib/emacsen-common/emacs-package-remove line 12.\ndpkg: 警告: 旧的 cmake-data 软件包 pre-removal 脚本 子进程返回错误状态 255\ndpkg: 现在尝试使用新软件包所带的脚本...\nemacs-remove: can't set umask, aborting. at /usr/lib/emacsen-common/emacs-package-remove line 12.\ndpkg: 处理归档 /var/cache/apt/archives/cmake-data_3.16.3-1kylin1k3_all.deb (--unpack)时出错：\n 新的 cmake-data 软件包 pre-removal 脚本 子进程返回错误状态 255\n在处理时有错误发生：\n /var/cache/apt/archives/cmake-data_3.16.3-1kylin1k3_all.deb\nE: Sub-process /usr/bin/dpkg returned an error code (1)\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br"),s("span",{staticClass:"line-number"},[a._v("3")]),s("br"),s("span",{staticClass:"line-number"},[a._v("4")]),s("br"),s("span",{staticClass:"line-number"},[a._v("5")]),s("br"),s("span",{staticClass:"line-number"},[a._v("6")]),s("br"),s("span",{staticClass:"line-number"},[a._v("7")]),s("br"),s("span",{staticClass:"line-number"},[a._v("8")]),s("br"),s("span",{staticClass:"line-number"},[a._v("9")]),s("br")])]),s("p",[a._v("打开提到的问题文件，并定位到指定的行，对于上面的提示就是")]),a._v(" "),s("p",[a._v("/usr/lib/emacsen-common/emacs-package-remove 的第 12 行 "),s("strong",[a._v("//注意上面报错的文件")])]),a._v(" "),s("p",[s("code",[a._v("vim /usr/lib/emacsen-common/emacs-package-remove")])]),a._v(" "),s("p",[a._v("第 12 行的内容为")]),a._v(" "),s("p",[s("code",[a._v('umask 0022 or die "emacs-remove: can\'t set umask, aborting.";')])]),a._v(" "),s("p",[a._v("将该行注释掉，即改为")]),a._v(" "),s("p",[s("code",[a._v('#umask 0022 or die "emacs-remove: can\'t set umask, aborting.";')])]),a._v(" "),s("p",[s("code",[a._v("wq")]),a._v(" 后重新运行 "),s("code",[a._v("sudo apt --fix-broken install")])])])}),[],!1,null,null,null);e.default=t.exports}}]);