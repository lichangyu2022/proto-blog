<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>GraalVM | Proto&#39;s blog</title>
    <meta name="generator" content="VuePress 1.9.5">
    <link rel="icon" href="/img/PROTO.png">
    <link rel="stylesheet" href="https://at.alicdn.com/t/font_3077305_pt8umhrn4k9.css">
    <script src="https://fastly.jsdelivr.net/npm/twikoo@1.4.18/dist/twikoo.all.min.js"></script>
    <meta name="description" content="web前端技术博客,专注web前端学习与总结。JavaScript,js,ES6,TypeScript,vue,React,python,css3,html5,Node,git,github等技术文章。">
    <meta name="referrer" content="no-referrer-when-downgrade">
    <meta name="keywords" content="后端博客,个人技术博客,后端,后端开发,后端框架,技术文档,学习,面试,JavaScript,js,ES6,TypeScript,vue,python,css3,html5,Node,git,github,markdown">
    <meta name="baidu-site-verification" content="7F55weZDDc">
    <meta name="theme-color" content="#11a8cd">
    
    <link rel="preload" href="/assets/css/0.styles.628fc664.css" as="style"><link rel="preload" href="/assets/js/app.27cee1d1.js" as="script"><link rel="preload" href="/assets/js/2.a7e8ef18.js" as="script"><link rel="preload" href="/assets/js/27.3ce16e69.js" as="script"><link rel="preload" href="/assets/js/6.66ff038f.js" as="script"><link rel="preload" href="/assets/js/3.c21cb588.js" as="script"><link rel="prefetch" href="/assets/js/10.455445c6.js"><link rel="prefetch" href="/assets/js/11.6dddc259.js"><link rel="prefetch" href="/assets/js/12.88389702.js"><link rel="prefetch" href="/assets/js/13.053cc18c.js"><link rel="prefetch" href="/assets/js/14.5e86ea9f.js"><link rel="prefetch" href="/assets/js/15.0b8a89fd.js"><link rel="prefetch" href="/assets/js/16.034b6a76.js"><link rel="prefetch" href="/assets/js/17.db2460ff.js"><link rel="prefetch" href="/assets/js/18.081c38ce.js"><link rel="prefetch" href="/assets/js/19.09bdf93d.js"><link rel="prefetch" href="/assets/js/20.03c3c8ca.js"><link rel="prefetch" href="/assets/js/21.077c53cf.js"><link rel="prefetch" href="/assets/js/22.fb450831.js"><link rel="prefetch" href="/assets/js/23.d7985e8c.js"><link rel="prefetch" href="/assets/js/24.d677670d.js"><link rel="prefetch" href="/assets/js/25.18875c10.js"><link rel="prefetch" href="/assets/js/26.dcf0cdb8.js"><link rel="prefetch" href="/assets/js/28.8cc3ae6c.js"><link rel="prefetch" href="/assets/js/29.3bcac903.js"><link rel="prefetch" href="/assets/js/30.4a81c432.js"><link rel="prefetch" href="/assets/js/31.b25442e2.js"><link rel="prefetch" href="/assets/js/32.9caa94d7.js"><link rel="prefetch" href="/assets/js/33.45597180.js"><link rel="prefetch" href="/assets/js/34.f2e658f0.js"><link rel="prefetch" href="/assets/js/35.5c0c2114.js"><link rel="prefetch" href="/assets/js/36.758b441c.js"><link rel="prefetch" href="/assets/js/37.bdfdde12.js"><link rel="prefetch" href="/assets/js/38.5bca912e.js"><link rel="prefetch" href="/assets/js/39.086ea5ae.js"><link rel="prefetch" href="/assets/js/4.6f346ac8.js"><link rel="prefetch" href="/assets/js/40.d4a0b1f9.js"><link rel="prefetch" href="/assets/js/41.de0d9e86.js"><link rel="prefetch" href="/assets/js/42.0a2ac15d.js"><link rel="prefetch" href="/assets/js/43.e5e93a84.js"><link rel="prefetch" href="/assets/js/44.7457a1a0.js"><link rel="prefetch" href="/assets/js/45.2c7f11d4.js"><link rel="prefetch" href="/assets/js/46.a2517281.js"><link rel="prefetch" href="/assets/js/47.52edbe26.js"><link rel="prefetch" href="/assets/js/48.7b54c2f2.js"><link rel="prefetch" href="/assets/js/49.c9a31e33.js"><link rel="prefetch" href="/assets/js/5.8e05eff0.js"><link rel="prefetch" href="/assets/js/50.4e57b73d.js"><link rel="prefetch" href="/assets/js/51.ad1992d8.js"><link rel="prefetch" href="/assets/js/52.e30d8580.js"><link rel="prefetch" href="/assets/js/53.11577b30.js"><link rel="prefetch" href="/assets/js/54.4872e452.js"><link rel="prefetch" href="/assets/js/55.f0390af1.js"><link rel="prefetch" href="/assets/js/56.dd02de87.js"><link rel="prefetch" href="/assets/js/57.2fafb7be.js"><link rel="prefetch" href="/assets/js/58.10610a97.js"><link rel="prefetch" href="/assets/js/59.64631587.js"><link rel="prefetch" href="/assets/js/60.0e1b983a.js"><link rel="prefetch" href="/assets/js/7.d2024a9a.js"><link rel="prefetch" href="/assets/js/8.beccc154.js"><link rel="prefetch" href="/assets/js/9.ef594360.js">
    <link rel="stylesheet" href="/assets/css/0.styles.628fc664.css">
  </head>
  <body class="theme-mode-light">
    <div id="app" data-server-rendered="true"><div class="theme-container sidebar-open have-rightmenu"><header class="navbar blur"><div title="目录" class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/img/PROTO.png" alt="Proto's blog" class="logo"> <span class="site-name can-hide">Proto's blog</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">首页</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="后端" class="dropdown-title"><a href="/code/" class="link-title">后端</a> <span class="title" style="display:none;">后端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>Java</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/07c04a/" class="nav-link">Spring</a></li><li class="dropdown-subitem"><a href="/pages/13793a/" class="nav-link">JVM</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="数据库" class="dropdown-title"><a href="/db/" class="link-title">数据库</a> <span class="title" style="display:none;">数据库</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/78b014/" class="nav-link">mysql</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Linux" class="dropdown-title"><a href="/linux/" class="link-title">Linux</a> <span class="title" style="display:none;">Linux</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/1535e3/" class="nav-link">criu</a></li><li class="dropdown-item"><!----> <a href="/pages/23c241/" class="nav-link">银河麒麟</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="云原生" class="dropdown-title"><a href="/cloud/" class="link-title">云原生</a> <span class="title" style="display:none;">云原生</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/824495/" class="nav-link">K8S</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="逆向" class="dropdown-title"><a href="/reverse/" class="link-title">逆向</a> <span class="title" style="display:none;">逆向</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/98cdc7/404" class="nav-link">汇编</a></li><li class="dropdown-item"><!----> <a href="/pages/98cdc7/404" class="nav-link">WIN32</a></li><li class="dropdown-item"><!----> <a href="/pages/98cdc7/404" class="nav-link">PE</a></li><li class="dropdown-item"><!----> <a href="/pages/98cdc7/404" class="nav-link">硬编码</a></li></ul></div></div> <a href="https://github.com/lichangyu2022" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar-hover-trigger"></div> <aside class="sidebar" style="display:none;"><div class="blogger"><img src="/img/PROTO.png"> <div class="blogger-info"><h3>Proto</h3> <span>45°躺平选手</span></div></div> <nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">首页</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="后端" class="dropdown-title"><a href="/code/" class="link-title">后端</a> <span class="title" style="display:none;">后端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>Java</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/07c04a/" class="nav-link">Spring</a></li><li class="dropdown-subitem"><a href="/pages/13793a/" class="nav-link">JVM</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="数据库" class="dropdown-title"><a href="/db/" class="link-title">数据库</a> <span class="title" style="display:none;">数据库</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/78b014/" class="nav-link">mysql</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Linux" class="dropdown-title"><a href="/linux/" class="link-title">Linux</a> <span class="title" style="display:none;">Linux</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/1535e3/" class="nav-link">criu</a></li><li class="dropdown-item"><!----> <a href="/pages/23c241/" class="nav-link">银河麒麟</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="云原生" class="dropdown-title"><a href="/cloud/" class="link-title">云原生</a> <span class="title" style="display:none;">云原生</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/824495/" class="nav-link">K8S</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="逆向" class="dropdown-title"><a href="/reverse/" class="link-title">逆向</a> <span class="title" style="display:none;">逆向</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/98cdc7/404" class="nav-link">汇编</a></li><li class="dropdown-item"><!----> <a href="/pages/98cdc7/404" class="nav-link">WIN32</a></li><li class="dropdown-item"><!----> <a href="/pages/98cdc7/404" class="nav-link">PE</a></li><li class="dropdown-item"><!----> <a href="/pages/98cdc7/404" class="nav-link">硬编码</a></li></ul></div></div> <a href="https://github.com/lichangyu2022" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>JAVA</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>Spring</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading open"><span>JVM</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/pages/13793a/" class="sidebar-link">深入理解类加载机制</a></li><li><a href="/pages/2a66c6/" class="sidebar-link">类加载器和双亲委派机制</a></li><li><a href="/pages/c49372/" class="sidebar-link">解析字节码文件</a></li><li><a href="/pages/1eed9b/" class="sidebar-link">jvm内存模型</a></li><li><a href="/pages/e69e02/" class="sidebar-link">字符串和数组的底层实现</a></li><li><a href="/pages/d64fc8/" class="sidebar-link">垃圾回收算法</a></li><li><a href="/pages/aa7f7c/" class="sidebar-link">垃圾收集器</a></li><li><a href="/pages/c2a109/" class="sidebar-link">jvm调优</a></li><li><a href="/pages/30d661/" class="sidebar-link">JIT</a></li><li><a href="/pages/98cdc7/" aria-current="page" class="active sidebar-link">GraalVM</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level2"><a href="/pages/98cdc7/#graalvm的诞生" class="sidebar-link">GraalVM的诞生</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/pages/98cdc7/#特征" class="sidebar-link">特征</a></li><li class="sidebar-sub-header level3"><a href="/pages/98cdc7/#在微服务环境下java的弱项" class="sidebar-link">在微服务环境下Java的弱项</a></li><li class="sidebar-sub-header level3"><a href="/pages/98cdc7/#问题的根源" class="sidebar-link">问题的根源</a></li><li class="sidebar-sub-header level3"><a href="/pages/98cdc7/#解决方案" class="sidebar-link">解决方案</a></li><li class="sidebar-sub-header level4"><a href="/pages/98cdc7/#革命" class="sidebar-link">革命</a></li><li class="sidebar-sub-header level4"><a href="/pages/98cdc7/#保守" class="sidebar-link">保守</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/pages/98cdc7/#win安装使用" class="sidebar-link">win安装使用</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/pages/98cdc7/#下载" class="sidebar-link">下载</a></li><li class="sidebar-sub-header level3"><a href="/pages/98cdc7/#环境配置" class="sidebar-link">环境配置</a></li><li class="sidebar-sub-header level3"><a href="/pages/98cdc7/#java-version" class="sidebar-link">java -version</a></li><li class="sidebar-sub-header level3"><a href="/pages/98cdc7/#native-image" class="sidebar-link">Native Image</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/pages/98cdc7/#linux-安装使用" class="sidebar-link">linux 安装使用</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/pages/98cdc7/#native-image-2" class="sidebar-link">Native Image</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/pages/98cdc7/#graalcompiler-模块编译" class="sidebar-link">GraalCompiler 模块编译</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/pages/98cdc7/#graal-和-c2的区别" class="sidebar-link">Graal 和 c2的区别</a></li><li class="sidebar-sub-header level3"><a href="/pages/98cdc7/#未来发展" class="sidebar-link">未来发展</a></li></ul></li></ul></li></ul></section></li></ul></section></li></ul> </aside> <div><main class="page"><div class="theme-vdoing-wrapper "><div class="articleInfo-wrap" data-v-06225672><div class="articleInfo" data-v-06225672><ul class="breadcrumbs" data-v-06225672><li data-v-06225672><a href="/" title="首页" class="iconfont icon-home router-link-active" data-v-06225672></a></li> <li data-v-06225672><a href="/code/#后端" data-v-06225672>后端</a></li><li data-v-06225672><a href="/code/#JAVA" data-v-06225672>JAVA</a></li><li data-v-06225672><a href="/code/#JVM" data-v-06225672>JVM</a></li></ul> <div class="info" data-v-06225672><div title="作者" class="author iconfont icon-touxiang" data-v-06225672><a href="https://github.com/lichangyu2022" target="_blank" title="作者" class="beLink" data-v-06225672>Proto</a></div> <div title="创建时间" class="date iconfont icon-riqi" data-v-06225672><a href="javascript:;" data-v-06225672>2022-09-28</a></div> <!----></div></div></div> <!----> <div class="content-wrapper"><div class="right-menu-wrapper"><div class="right-menu-margin"><div class="right-menu-title">目录</div> <div class="right-menu-content"></div></div></div> <h1><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAAXNSR0IArs4c6QAABH1JREFUSA3tVl1oHFUUPmdmd2ltklqbpJDiNnXFmgbFktho7YMPNiJSSZM0+CAYSkUELVhM6YuwIPpgoOKDqOBDC0XE2CQoNtQXBUFTTcCi+Wlh1V2TQExsUzcltd3M9Tt3ZjZzZ2fT+OJTL8yeM+eee757fmeJbq//KQL8X3DUSFOcfr7cRsRtxNQMWueeVzOkaITIGqQHNg5y8+jNW9ldM7A6nTpAjuolUikAwq7CE3WcM2RRDz+XGVgN3FptU/aUSlvq9Pa3iZ1+sgAqJyyAFqkipd9dqiwHF3P65YycLWc/6sqGrvoEoIp6DOFaX5h6+dnfjkWprwqsPk0dUGq5vySwDImC10KxFHgGL1SWoc92O3eVht09qdXNH11I2SsTsJYqMWzihqGMi+A+Garf3BAuuLI5oGlULyNfyB/HYNujwktOfRrMr5t77NmevqaUopx0grnKAyvVpmwUDB4x6FPXuGvYLTDwWsejwgtgkYKPqRJg8SV6xaiZ3ZTppGneS4yfH5/66fZSDHv+QZci/+h5c5UHtpy67JUqGppM0sh0Nc1dW6/N1W5Yoqat8/TU/VnadmdeW2PLLSyh0cvxBs3KbqTmwYPpxN4do/mzE8nEpvX/UMu2Wbp74zUAK5q6WkHns7V0eWkdPbPzd3rxkTGybadYySumVzhcaJFbs5UrEkQ/+CK8gF5dnh/6ciIZ73gwQ927L1IitoxKLXYP3SjYdOrHHfTZhRRlFyrorafPk20B3HPD1y2G3qKZME5Jcf3t/HUC13/8tSd++vqFveMUTwAUxSUFI1QekR1+bIze3D9MF2aq6cPvG72CgnldWCFqyRw3lwH8ZMerjTD9ElRO7Gv44wNpC90aASqGfVlz/Rx17srQ57/UU26hkhQqUB7dBR71WmzQhHUnblGmVOEw0jhbV1n9OlXUDCIRGaNV5Jp43N516fN7JmnTHdfp7Hgy0luO4aMhtkLL8Bi3bUWYvzh5Mn1dTxrL6QmGuRhGL/TiTTxRoEdTszSaq9GR0NGA3KdkOz3hqSV3MIDhQ5IVX/Ivx3umBti2es2h4eZby7x8br1rkf7Mo90AqC8aQ3sJeNzqFRu+vSANAQe3PL7l0HGOAdwDCeZYvNKeoZp1Qfs6Aipndh86HmFRi0LAnEO47wsqM6cdfjh3jBPUzhZy7nvlUfFsamED1VQt6aISHVymXZ/B2aCtIG8AI8xfobj2d3en1wWVhOeHELKmLQ1s211s88comkv4UCwWyF787mJdYXtNfhKAXVqnKTq8QZvGAGGOfaTo5pGZ/PwbUCr5+DPr/1J92JNHr9aOl/F3iI5+O1nfybsGxoimvZ3ViWSluDITw3P37mypheDIPY0tw7+O/5ApbkYw+zpfaUVu32Pi98+defdUhEpZkRFq0aqyNh9FuL9hpYbEm6iwi0z2REd09ZmyENEbuhjDWzKvZXTqKYaBIr3tt5kuPtQBZFvEUwHt60vfCNu41XsksH9Ij1BMMz1Y0OOunHNShFIP5868g5zeXmuLwL9T4b6Q2+KejgAAAABJRU5ErkJggg==">GraalVM<!----></h1>  <div class="theme-vdoing-content content__default"><h1 id="graalvm"><a href="#graalvm" class="header-anchor">#</a> GraalVM</h1> <h2 id="graalvm的诞生"><a href="#graalvm的诞生" class="header-anchor">#</a> GraalVM的诞生</h2> <p><a href="https://www.graalvm.org/" target="_blank" rel="noopener noreferrer">GraalVM<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 是一个高性能 JDK 发行版，旨在加速用Java和其他JVM语言编写的应用程序的执行，
并支持 JavaScript、Ruby、Python 和许多其他流行语言。</p> <p><img src="https://cdn.staticaly.com/gh/lichangyu2022/blog-imgs@master/20221010/clipboard.126valixcku8.webp" alt="clipboard"></p> <p>GraalVM想成为一统天下的“最终”虚拟机！而GraalVM要做到原因也很简单：</p> <p>大部分脚本语言或者有动态特效的语言都需要一个语言虚拟机运行，
比如CPython，Lua，Erlang，Java，Ruby，R，JS，PHP，Perl，APL等等，
但是这些语言的虚拟机水平很烂，而HotSpotVM是虚拟机的大神级别，
如果能用上HotSpot，能用上顶级的JIT、性能优化、垃圾回收等技术，那就会提升很大！</p> <h3 id="特征"><a href="#特征" class="header-anchor">#</a> 特征</h3> <p>GraalVM是一款高性能的可嵌入式多语言虚拟机，它能运行不同的编程语言</p> <ul><li>基于JVM的语言，比如Java, Scala, Kotlin和Groovy</li> <li>解释型语言，比如JavaScript, Ruby, R和Python</li> <li>配合LLVM一起工作的原生语言，比如C， C++， Rust和Swift</li></ul> <p>GraalVM的设计目标是可以在不同的环境中运行程序</p> <ul><li>在JVM中</li> <li>编译成独立的本地镜像（不需要JDK环境）</li> <li>将Java及本地代码模块集成为更大型的应用</li></ul> <h3 id="在微服务环境下java的弱项"><a href="#在微服务环境下java的弱项" class="header-anchor">#</a> 在微服务环境下Java的弱项</h3> <p>在微服务的背景下，提倡服务围绕业务能力构建，不再追求实现上的严谨一致；</p> <ol><li>单个微服务就不再需要再面对数十、数百GB乃至TB的内存；</li> <li>有了高可用的服务集群，也无须追求单个服务要7×24小时不可间断地运行，它们随时可以中断和更新。</li> <li>微服务环境对应用的启动速度和最高性能的时间等方面提出了新的要求，这些恰恰是Java的弱项。</li> <li>很难能吃到JIT、GC等面向程序长时间运行设计的，需要一段时间来达到最佳性能，才能享受硬件规模提升带来的红利。</li></ol> <h3 id="问题的根源"><a href="#问题的根源" class="header-anchor">#</a> 问题的根源</h3> <p>Java离不开虚拟机，Java应用启动的时候，必须要启动虚拟机，进行类加载，无论是启动时间，还是占用空间都不是最优解</p> <h3 id="解决方案"><a href="#解决方案" class="header-anchor">#</a> 解决方案</h3> <h4 id="革命"><a href="#革命" class="header-anchor">#</a> 革命</h4> <p>直接革掉Java和Java生态的性命，创造新语言，比如Golang。</p> <p>ps：不得不说go的协程是真的好用，就是go生态圈不是特别大,现在做go的人越来越多后续生态圈会慢慢成长起来。
现在java19也出了虚拟线程,具体二者的性能和实现还有待比较。</p> <h4 id="保守"><a href="#保守" class="header-anchor">#</a> 保守</h4> <p>尽可能保留原有主流Java生态和技术资产，在原有的Java生态上做改进， 朝着微服务、云原生环境靠拢、适应。
其中最大的技术运用就是GraalVM。</p> <h2 id="win安装使用"><a href="#win安装使用" class="header-anchor">#</a> win安装使用</h2> <h3 id="下载"><a href="#下载" class="header-anchor">#</a> 下载</h3> <p>GraalVM分成了社区版与企业版,目前都是免费的。</p> <p><img src="https://cdn.staticaly.com/gh/lichangyu2022/blog-imgs@master/20221010/image.6av42qoqh1c0.webp" alt="image"></p> <h3 id="环境配置"><a href="#环境配置" class="header-anchor">#</a> 环境配置</h3> <p><img src="https://cdn.staticaly.com/gh/lichangyu2022/blog-imgs@master/20221010/image.2dq693ac424g.webp" alt="image"></p> <h3 id="java-version"><a href="#java-version" class="header-anchor">#</a> java -version</h3> <p><img src="https://cdn.staticaly.com/gh/lichangyu2022/blog-imgs@master/20221010/image.5wpk8cvwiec0.webp" alt="image"></p> <p>如果更新环境变量之后java -version还是之前的记录，可以看看这两篇文章
<a href="https://www.cnblogs.com/dbei/articles/13355718.html" target="_blank" rel="noopener noreferrer">点这里<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> <a href="https://cloud.tencent.com/developer/article/2055975" target="_blank" rel="noopener noreferrer">还有这里<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h3 id="native-image"><a href="#native-image" class="header-anchor">#</a> Native Image</h3> <p>使用 GraalVM Enterprise，可以将 Java 字节码编译为特定于平台的、
自包含的本机可执行文件（本机映像  <a href="https://docs.oracle.com/en/graalvm/enterprise/21/docs/reference-manual/native-image/" target="_blank" rel="noopener noreferrer">Native Image<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>），
以实现更快的启动和更小的应用程序占用空间。</p> <p>使用命令安装</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>gu install native-image

gu list
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p><img src="https://cdn.staticaly.com/gh/lichangyu2022/blog-imgs@master/20221010/image.6zqjm5y29ow0.webp" alt="image"></p> <h2 id="linux-安装使用"><a href="#linux-安装使用" class="header-anchor">#</a> linux 安装使用</h2> <ol><li>解压缩</li></ol> <p><img src="https://cdn.staticaly.com/gh/lichangyu2022/blog-imgs@master/20221010/image.3y5l1kvfl1o0.webp" alt="image"></p> <ol start="2"><li>配置环境变量</li></ol> <div class="language- line-numbers-mode"><pre class="language-text"><code>mv graalvm-ce-java11-22.2.0/ graalvm
export PATH=$PATH:/root/graalvm/bin  #这是临时的环境，仅用于演示。
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p><img src="https://cdn.staticaly.com/gh/lichangyu2022/blog-imgs@master/20221010/image.4rek3ynrane0.webp" alt="image"></p> <h3 id="native-image-2"><a href="#native-image-2" class="header-anchor">#</a> Native Image</h3> <ol><li>安装</li></ol> <div class="language- line-numbers-mode"><pre class="language-text"><code>gu install native-image
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><img src="https://cdn.staticaly.com/gh/lichangyu2022/blog-imgs@master/20221010/image.2hwbxckrlk40.webp" alt="image"></p> <ol start="2"><li>写输出的类</li></ol> <div class="language- line-numbers-mode"><pre class="language-text"><code>public class HelloWorld{
  public static void main(String[] args){
    System.out.println(&quot;Hello World&quot;);
  }
}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p><img src="https://cdn.staticaly.com/gh/lichangyu2022/blog-imgs@master/20221010/image.1q95lnk9i8dc.webp" alt="image"></p> <ol start="3"><li>制作成本地文件</li></ol> <div class="language- line-numbers-mode"><pre class="language-text"><code>native-image HelloWorld
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><img src="https://cdn.staticaly.com/gh/lichangyu2022/blog-imgs@master/20221010/image.6rqjctgcv580.webp" alt="image"></p> <ol start="4"><li>两者对比下</li></ol> <div class="language- line-numbers-mode"><pre class="language-text"><code>time java HelloWorld
time ./helloworld
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p><img src="https://cdn.staticaly.com/gh/lichangyu2022/blog-imgs@master/20221010/image.5ud6f58ptx80.webp" alt="image"></p> <p>对比发现使用本地文件的方式启动更快一些，<strong>而且这种方式不需要jdk环境</strong>可以拷贝到另外一台机器上。
非常方便的完成快速的容器化部署，<strong>符合现代云原生的要求</strong></p> <p>阿里巴巴已经开始通过这种方式加快容器的启动速度，直接提升20倍  https://www.graalvm.org/native-image/</p> <p><img src="https://cdn.staticaly.com/gh/lichangyu2022/blog-imgs@master/20221010/image.77ap6enowx80.webp" alt="image"></p> <h2 id="graalcompiler-模块编译"><a href="#graalcompiler-模块编译" class="header-anchor">#</a> GraalCompiler 模块编译</h2> <p>GraalCompiler是GraalVM与HotSpotVM共同拥有的服务端即时编译器，代替是C2编译器。</p> <p><img src="https://cdn.staticaly.com/gh/lichangyu2022/blog-imgs@master/20221010/image.3t28syyngli0.webp" alt="image"></p> <p>传统情况下(JDK8)，即时编译器是与 Java 虚拟机紧耦合的。修改即时编译器需要重新编译整个 Java 虚拟机。</p> <p>为了让 Java 虚拟机与 Graal 解耦合，erface，JVMCI），</p> <h3 id="graal-和-c2的区别"><a href="#graal-和-c2的区别" class="header-anchor">#</a> Graal 和 c2的区别</h3> <ol><li><p>修改c2源码需要重新编译整个虚拟机， 而Graal引入了Java <a href="http://openjdk.java.net/jeps/243" target="_blank" rel="noopener noreferrer">虚拟机编译器接口<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>将即时编译器的功能抽象成一个 Java 层面的接口。在 Graal 所依赖的 JVMCI 版本不变的情况下，仅需要替换 Graal 编译器相关的 jar 包，便可完成对 Graal 的升级</p></li> <li><p>Graal由java开发，更加模块化方便维护。而c2由C++开发，代码庞大不易维护</p></li></ol> <h3 id="未来发展"><a href="#未来发展" class="header-anchor">#</a> 未来发展</h3> <p><strong>2021年03月11日官方宣布的Spring Native只是beta版本，请不要用于生产环境。</strong></p> <p>spring 6.0和spring boot3.0都会基于jdk17构建，也会继续维护和升级spring 2的版本，一样可以使用老的版本。
spring 6.0和spring boot3.0总体来说是彻底拥抱aot，让spring native变得更加流行，所以在Spring6与SpringBoot3广泛之前spring native还肯定不是主流而已。</p> <p>目前java19发布了虚拟线程，包括阿里开源的jdk8也有非侵入式协程，至于在高并发项目性能方面还有待比较。
所以到底是Oracle公司在引导Java了，还是有可能国内的公司引导了，这个都不好说！</p> <p>java的协程框架未来很大可能性是阿里等公司主导，而不是Oracle，这个是因为国内的软件行情的原因（高并发项目多）
而云原生的虚拟机则应该是Oracle公司主导，因为国外开发者，大多不会强制限定一定是Java语言，喜欢多语言开发，所以应该来说比较受欢迎，而国内则不同。</p> <p>ps：包括go现在高并发项目上用的也比较多。至于后面会不会舍弃java，直接用go也不好说，反正短时间java死不掉。
我的想法就是两条腿走路，学学go做个副语言以备不时之需，毕竟现在云原生环境下go还是吃红利的。不要卷java了，我都快被你们卷的找不着工作了！！！</p></div></div>  <div class="page-edit"><!----> <div class="tags"><a href="/tags/?tag=JAVA" title="标签">#JAVA</a><a href="/tags/?tag=JVM" title="标签">#JVM</a></div> <div class="last-updated"><span class="prefix">上次更新:</span> <span class="time">2022/10/10, 14:54:28</span></div></div> <div class="page-nav-wapper"><div class="page-nav-centre-wrap"><a href="/pages/30d661/" class="page-nav-centre page-nav-centre-prev"><div class="tooltip">JIT</div></a> <!----></div> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/pages/30d661/" class="prev">JIT</a></span> <!----></p></div></div></div> <div class="article-list"><div class="article-title"><a href="/archives/" class="iconfont icon-bi">最近更新</a></div> <div class="article-wrapper"><dl><dd>01</dd> <dt><a href="/pages/e49eec/"><div>
            参数校验(转载)
            <!----></div></a> <span class="date">10-21</span></dt></dl><dl><dd>02</dd> <dt><a href="/pages/dc08e3/"><div>
            常用工具类(转载)
            <!----></div></a> <span class="date">10-21</span></dt></dl><dl><dd>03</dd> <dt><a href="/pages/23c241/"><div>
            银河麒麟介绍
            <!----></div></a> <span class="date">09-28</span></dt></dl> <dl><dd></dd> <dt><a href="/archives/" class="more">更多文章&gt;</a></dt></dl></div></div></main></div> <div class="footer"><div class="icons"><a href="mailto:lcyu18910064212@163.com" title="发邮件" target="_blank" class="iconfont icon-youjian"></a><a href="https://github.com/lichangyu2022" title="GitHub" target="_blank" class="iconfont icon-github"></a><a href="https://music.163.com/#/playlist?id=755597173" title="听音乐" target="_blank" class="iconfont icon-erji"></a></div> 
  Theme by
  <a href="https://github.com/xugaoyi/vuepress-theme-vdoing" target="_blank" title="本站主题">Vdoing</a> <!----></div> <div class="buttons"><div title="返回顶部" class="button blur go-to-top iconfont icon-fanhuidingbu" style="display:none;"></div> <div title="去评论" class="button blur go-to-comment iconfont icon-pinglun" style="display:none;"></div> <div title="主题模式" class="button blur theme-mode-but iconfont icon-zhuti"><ul class="select-box" style="display:none;"><li class="iconfont icon-zidong">
          跟随系统
        </li><li class="iconfont icon-rijianmoshi">
          浅色模式
        </li><li class="iconfont icon-yejianmoshi">
          深色模式
        </li><li class="iconfont icon-yuedu">
          阅读模式
        </li></ul></div></div> <!----> <!----> <!----></div><div class="global-ui"><div></div><div id="tcomment"></div></div></div>
    <script src="/assets/js/app.27cee1d1.js" defer></script><script src="/assets/js/2.a7e8ef18.js" defer></script><script src="/assets/js/27.3ce16e69.js" defer></script><script src="/assets/js/6.66ff038f.js" defer></script><script src="/assets/js/3.c21cb588.js" defer></script>
  </body>
</html>
